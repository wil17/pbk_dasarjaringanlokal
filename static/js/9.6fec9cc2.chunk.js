(this["webpackJsonpall-in-one"]=this["webpackJsonpall-in-one"]||[]).push([[9],{753:function(e,t,n){"use strict";n.r(t),n.d(t,"commentsList",(function(){return c})),n.d(t,"commentAdded",(function(){return l})),n.d(t,"commentResolved",(function(){return s})),n.d(t,"commentUnResolved",(function(){return d})),n.d(t,"commentDeleted",(function(){return u})),n.d(t,"commentRestored",(function(){return m})),n.d(t,"replyAdded",(function(){return p})),n.d(t,"replyDeleted",(function(){return f})),n.d(t,"replyRestored",(function(){return b})),n.d(t,"commentResolvedAck",(function(){return h})),n.d(t,"commentDeletedAck",(function(){return v})),n.d(t,"replyDeletedAck",(function(){return g}));var i=n(156),a=n(91),r=n(20),o=n(78);const c=e=>t=>{t({type:o.a.COMMENTS_LIST,payload:{comments:e}})},l=e=>t=>{Object(i.b)(e,Object(r.e)(a.a.getState()))&&t({type:o.a.COMMENT_ADDED,payload:{comment:e}})},s=e=>t=>{t({type:o.a.COMMENT_RESOLVED,payload:e})},d=e=>t=>{t({type:o.a.COMMENT_UNRESOLVED,payload:e})},u=e=>t=>{t({type:o.a.COMMENT_DELETED,payload:e})},m=e=>t=>{t({type:o.a.COMMENT_RESTORED,payload:e})},p=e=>t=>{t({type:o.a.COMMENT_REPLY_ADDED,payload:e})},f=e=>t=>{t({type:o.a.COMMENT_REPLY_DELETED,payload:e})},b=e=>t=>{t({type:o.a.COMMENT_REPLY_RESTORED,payload:e})},h=e=>t=>{t({type:o.a.COMMENT_RESOLVED_ACK,payload:e})},v=e=>t=>{t({type:o.a.COMMENT_DELETED_ACK,payload:e})},g=e=>t=>{t({type:o.a.COMMENT_REPLY_DELETED_ACK,payload:e})}},838:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"init",(function(){return T})),n.d(i,"trackEvent",(function(){return C}));var a=n(0),r=n.n(a),o=n(19),c=n(11),l=n(320),s=n(2),d=n(27),u=n(82),m=n(80),p=n.n(m),f=n(18);const b=Object(f.createSelector)([e=>e.user.email,e=>e.comments,(e,t)=>t],(e,t,n)=>{let i;return i=n?t.filter(e=>{var t,i;let a=e.context,r=n.property;return a&&[u.u.QUESTION,u.u.INFORMATION_CONTENT].includes(a.type)&&!a.property&&(r=void 0),a&&a.id===n.id&&a.type===n.type&&a.property===r&&(null===(t=a.ref)||void 0===t?void 0:t.id)===(null===(i=n.ref)||void 0===i?void 0:i.id)}):t.filter(e=>!e.context),i=i.filter(t=>{var n,i,a;return(t.createdBy.isReviewer||t.createdBy.isAnonymous)&&!(t.isDeleted&&(!t.deletedBy||(null===(n=t.deletedBy)||void 0===n?void 0:n.isReviewer)||(null===(i=t.deletedSeenEmails)||void 0===i?void 0:i.includes(e)))||t.isResolved&&(!t.resolvedBy||(null===(a=t.resolvedSeenEmails)||void 0===a?void 0:a.includes(e))))}).map(t=>{const n=p()(t);return n.replies=n.replies.filter(t=>{var n,i;return!(t.isDeleted&&(!t.deletedBy||(null===(n=t.deletedBy)||void 0===n?void 0:n.isReviewer)||(null===(i=t.deletedSeenEmails)||void 0===i?void 0:i.includes(e))))}),n}),i});var h=n(74),v=n(28),g=n(49),x=n(759),E=n(4),O=n(3),y=n(224);class j{constructor(){}static getInstance(){return j.instance||(j.instance=new j),j.instance}async init(e){const t=(await n.e(8).then(n.bind(null,842))).Analytics,i=await n.e(12).then(n.bind(null,835));j.analytics=t({plugins:[i.default({writeKey:e})]}),j.timestamp=Date.now()}trackEvent(e,t,n){const i={},a={Amplitude:{session_id:j.timestamp}};t&&(i.category=t),n&&Object.assign(i,n);try{j.analytics.track(e,i,{integrations:a})}catch(r){throw y.a.log(r),r}}}j.analytics=void 0,j.instance=void 0,j.timestamp=void 0;var w=j.getInstance();const T=()=>async(e,t)=>{const n=Object(O.a)(t());await w.init(n)},C=(e,t)=>async(n,i)=>{const a=Object(O.a)(i());await w.init(a),w.trackEvent(e,t)};var D=n(137),M=n(753),k=n(6),R=n(36),S=n(13),_=n(1),A=n(202),N=n(37),I=n(5);function L(){const e=Object(_.a)([""]);return L=function(){return e},e}function B(){const e=Object(_.a)(["\n  margin: 8px 40px;\n"]);return B=function(){return e},e}function V(){const e=Object(_.a)(["\n  cursor: pointer;\n"]);return V=function(){return e},e}function z(){const e=Object(_.a)(["\n  color: #46a14a;\n"]);return z=function(){return e},e}function H(){const e=Object(_.a)(["\n  padding: 4px;\n  border-radius: 100%;\n  display: inline-flex;\n  cursor: pointer;\n  font-size: 3px;\n\n  &:hover {\n    color: white;\n    background-color: #b0bdc8;\n    transition: background-color 0.5s;\n  }\n"]);return H=function(){return e},e}function P(){const e=Object(_.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  height: 60px;\n\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"]);return P=function(){return e},e}function U(){const e=Object(_.a)(["\n  width: max-content;\n  padding: 4px;\n  opacity: 0;\n\n  transition: opacity 0.5s;\n"]);return U=function(){return e},e}function K(){const e=Object(_.a)(["\n  font-weight: normal;\n\n  div:first-child {\n    background: transparent;\n    color: #4caf50;\n    text-decoration: underline;\n    box-shadow: none;\n\n    &:hover {\n      background: #e1f2e1;\n    }\n  }\n"]);return K=function(){return e},e}function Y(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 20px;\n    height: 26px;\n    padding: 0 16px;\n    cursor: pointer;\n    box-shadow: 0 2px 8px rgb(0 0 0 / 20%);\n  }\n\n  div:first-child {\n    color: white;\n    background-color: #f85d67;\n  }\n"]);return Y=function(){return e},e}function W(){const e=Object(_.a)(["\n  margin: 0;\n  width: 100%;\n  gap: 12px;\n  justify-content: flex-end;\n  padding-right: 20px;\n  font-weight: 600;\n"]);return W=function(){return e},e}function F(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 17px;\n"]);return F=function(){return e},e}function q(){const e=Object(_.a)(["\n  flex-direction: row;\n  font-style: italic;\n"]);return q=function(){return e},e}function G(){const e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px 0;\n"]);return G=function(){return e},e}function J(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 8px;\n"]);return J=function(){return e},e}function Q(){const e=Object(_.a)(["\n  cursor: text;\n"]);return Q=function(){return e},e}function X(){const e=Object(_.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n\n  &&:hover .icon-garbage {\n    visibility: visible;\n    cursor: pointer;\n  }\n\n  .icon-garbage {\n    color: #aaa;\n    visibility: hidden;\n    cursor: pointer;\n    :hover {\n      color: #f85d67;\n    }\n  }\n"]);return X=function(){return e},e}function Z(){const e=Object(_.a)(["\n  text-align: left;\n  font-size: 12px;\n  line-height: 150%;\n  color: #42515f;\n"]);return Z=function(){return e},e}function $(){const e=Object(_.a)(["\n  font-size: 11px;\n  line-height: 100%;\n  color: #99a9b8;\n"]);return $=function(){return e},e}function ee(){const e=Object(_.a)(["\n  height: 24px;\n  width: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  cursor: pointer;\n"]);return ee=function(){return e},e}function te(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  /*! @noflip */\n  margin-right: 10px;\n\n  height: 100%;\n  width: 100%;\n\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 600;\n  font-style: italic;\n  text-align: center;\n"]);return te=function(){return e},e}function ne(){const e=Object(_.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n\n  height: 80px;\n  width: 100%;\n  margin-top: 12px;\n  margin-bottom: 12px;\n  border-radius: 2px;\n  border: 1px solid rgba(153, 169, 184, 0.2);\n\n  .icon-close {\n    display: block;\n    position: sticky;\n    right: 12px;\n    margin-top: 12px;\n    cursor: pointer;\n  }\n"]);return ne=function(){return e},e}function ie(){const e=Object(_.a)(["\n  text-align: left;\n  font-weight: 600;\n  font-size: 12px;\n  max-width: 200px;\n  line-height: 100%;\n  color: #42515f;\n"]);return ie=function(){return e},e}function ae(){const e=Object(_.a)(["\n  height: 4px;\n  width: 4px;\n  border-radius: 100%;\n  background: #dfe4e8;\n"]);return ae=function(){return e},e}function re(){const e=Object(_.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 8px;\n\n  .icon {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n  }\n"]);return re=function(){return e},e}function oe(){const e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n  gap: 8px;\n\n  width: calc(100% - 32px);\n  padding-left: 17px;\n"]);return oe=function(){return e},e}function ce(){const e=Object(_.a)(["\n  display: flex;\n  gap: 8px;\n"]);return ce=function(){return e},e}function le(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n\n  .icon-garbage {\n    cursor: pointer;\n    color: #aaa;\n    visibility: hidden;\n    :hover {\n      color: #f85d67;\n    }\n  }\n"]);return le=function(){return e},e}function se(){const e=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  gap: 8px;\n\n  width: 100%;\n"]);return se=function(){return e},e}function de(){const e=Object(_.a)(["\n          :before {\n            content: '';\n            display: block;\n            position: sticky;\n            margin: 0 24px -32px -24px;\n            height: 32px;\n            width: 2px;\n            background-color: #81c884;\n          }\n        "]);return de=function(){return e},e}function ue(){const e=Object(_.a)(["\n  display: flex;\n  align-items: stretch;\n  flex-wrap: wrap;\n  width: 100%;\n  padding: 12px 0;\n\n  ","\n"]);return ue=function(){return e},e}function me(){const e=Object(_.a)(["\n  height: inherit;\n  width: 32px;\n  padding-top: 15px;\n  box-sizing: border-box;\n\n  :before {\n    content: '';\n    display: ",";\n    height: 100%;\n    min-height: 20px;\n    width: 1px;\n    opacity: 1;\n\n    left: 30px;\n    margin: 0 auto;\n    border-radius: 2px;\n    border-right: 1px solid rgba(66, 81, 95, 0.1);\n\n    -webkit-transition: opacity 0.2s ease-in-out;\n    transition: opacity 0.2s ease-in-out;\n  }\n"]);return me=function(){return e},e}function pe(){const e=Object(_.a)(["\n  &&:hover .icon-garbage {\n    visibility: visible;\n    cursor: pointer;\n  }\n"]);return pe=function(){return e},e}function fe(){const e=Object(_.a)([""]);return fe=function(){return e},e}function be(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  gap: 16px;\n\n  height: 42px;\n  width: calc(100% + 5px);\n  border-radius: 21px;\n\n  padding-left: 5px;\n  ","\n  margin-left: -5px;\n\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 13px;\n  color: #73899e;\n\n  background: #fbfbfb;\n  cursor: pointer;\n"]);return be=function(){return e},e}function he(){const e=Object(_.a)(["\n      & {\n        background-color: ",";\n        box-shadow: inset 0 2px 0 0 ",";\n        border: solid 1px ",";\n        ",";\n      }\n    "]);return he=function(){return e},e}function ve(){const e=Object(_.a)(["\n  ",";\n  display: block;\n  height: 80px;\n  width: calc(100% - 40px);\n  padding: 12px;\n  resize: none;\n  border: 1px solid #469dd5;\n  border-radius: 2px;\n  outline: none;\n  font-size: 12px;\n  line-height: 20px;\n\n  &:hover {\n    border-color: #76b6e0;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: #469dd5;\n    box-shadow: inset 0 1px 3px 0 rgba(70, 157, 213, 0.3);\n  }\n\n  ",";\n"]);return ve=function(){return e},e}function ge(){const e=Object(_.a)(["\n  font-size: 10px;\n\n  height: 32px;\n  width: 32px;\n  min-width: 32px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  color: white;\n  background: ",";\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  border-radius: 100%;\n  border: ",";\n"]);return ge=function(){return e},e}function xe(){const e=Object(_.a)([""]);return xe=function(){return e},e}function Ee(){const e=Object(_.a)(["\n  margin-top: 12px;\n"]);return Ee=function(){return e},e}function Oe(){const e=Object(_.a)(["\n  display: flex;\n  gap: 8px;\n"]);return Oe=function(){return e},e}function ye(){const e=Object(_.a)(["\n  color: #73899e;\n  opacity: 0.7;\n"]);return ye=function(){return e},e}function je(){const e=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: absolute;\n  margin-left: -10px;\n\n  height: 19px;\n  width: 19px;\n  border-radius: 100%;\n\n  background-color: white;\n"]);return je=function(){return e},e}function we(){const e=Object(_.a)(["\n  display: block;\n  position: relative;\n  left: -8px;\n  top: 15px;\n"]);return we=function(){return e},e}function Te(){const e=Object(_.a)(["\n  margin-top: 30px;\n"]);return Te=function(){return e},e}function Ce(){const e=Object(_.a)(["\n  color: #81c884;\n  /*! @noflip */\n  margin-right: 10px;\n"]);return Ce=function(){return e},e}function De(){const e=Object(_.a)(["\n  color: #99a9b8;\n  ",";\n  margin: 0px 2px 0px 15px;\n"]);return De=function(){return e},e}function Me(){const e=Object(_.a)(["\n  color: #46a14a;\n  ",";\n"]);return Me=function(){return e},e}function ke(){const e=Object(_.a)(["\n  color: #b0bdc8;\n  width: 10px;\n  cursor: pointer;\n"]);return ke=function(){return e},e}function Re(){const e=Object(_.a)(["\n  margin-top: 5px;\n"]);return Re=function(){return e},e}function Se(){const e=Object(_.a)(["\n  color: #469dd5;\n\n  ::before {\n    vertical-align: baseline;\n  }\n"]);return Se=function(){return e},e}function _e(){const e=Object(_.a)(["\n  ",";\n  font-weight: 600;\n  font-size: 13px;\n  margin-bottom: 24px;\n  text-align: left;\n"]);return _e=function(){return e},e}function Ae(){const e=Object(_.a)(["\n  width: 100%;\n"]);return Ae=function(){return e},e}const Ne=s.default.div(Ae()),Ie=s.default.h3(_e(),A.b),Le=Object(s.default)(o.k)(Se()),Be=Object(s.default)(Le)(Re()),Ve=Object(s.default)(o.k)(ke()),ze=Object(s.default)(o.k)(Me(),e=>{var t;return!(null===(t=e.theme)||void 0===t?void 0:t.isRtl)&&"top: 1px"}),He=Object(s.default)(o.k)(De(),e=>{var t;return!(null===(t=e.theme)||void 0===t?void 0:t.isRtl)&&"top: 3px"}),Pe=Object(s.default)(o.k)(Ce()),Ue=s.default.div(Te()),Ke=s.default.div(we()),Ye=s.default.div(je()),We=Object(s.default)(o.k)(ye()),Fe=s.default.div(Oe()),qe=Object(s.default)(Fe)(Ee()),Ge=s.default.div(xe()),Je=s.default.div.attrs(e=>{let t=e.children;return{"data-test":"review-avatar",children:e.avatarUrl?null:t}})(ge(),e=>e.avatarUrl?"url(".concat(e.avatarUrl,")"):"#96c7e7",e=>e.avatarUrl?"unset":"1px solid #76b6e0"),Qe=s.default.textarea.attrs(e=>({"aria-label":e.ariaLabel,"data-test":"comment-text-area"}))(ve(),A.b,e=>!e.validComment&&Object(s.css)(he(),Object(I.a)(e.theme.colors.textColor,.02),Object(I.a)(e.theme.colors.incorrectColor,.06),e.theme.colors.incorrectColor,N.a)),Xe=s.default.div(be(),e=>e.spacing&&"margin: ".concat(e.spacing,"px 0;")),Ze=s.default.div(fe()),$e=s.default.div(pe()),et=s.default.div.attrs({"data-test":"comment-connection-line"})(me(),e=>e.visible?"block":"none"),tt=s.default.div.attrs(e=>({"data-test":"comment-item",id:e.commentId}))(ue(),e=>e.isActiveComment?Object(s.css)(de()):""),nt=s.default.div(se()),it=s.default.div(le()),at=s.default.div(ce()),rt=s.default.div(oe()),ot=s.default.div(re()),ct=s.default.div(ae()),lt=s.default.div.attrs({"data-test":"review-commenter-name"})(ie()),st=s.default.div.attrs({"data-test":"review-closed-comment-overlay"})(ne()),dt=s.default.div(te()),ut=s.default.div(ee()),mt=s.default.div.attrs({"data-test":"review-comment-date"})($()),pt=s.default.div.attrs({"data-test":"review-comment-text"})(Z()),ft=s.default.div(X()),bt=Object(s.default)(ft)(Q()),ht=s.default.div(J()),vt=s.default.div(G()),gt=Object(s.default)(vt)(q()),xt=s.default.div(F()),Et=Object(s.default)(xt)(W()),Ot=s.default.div(Y()),yt=Object(s.default)(Ot)(K()),jt=s.default.div(U()),wt=s.default.div(P(),jt),Tt=s.default.div(H()),Ct=s.default.div.attrs({"data-test":"review-form-submit-button"})(z()),Dt=Object(s.default)(Ct).attrs({"data-test":"review-form-reply-button"})(V()),Mt=s.default.div(B()),kt=Object(s.default)(Mt)(L());var Rt=n(45),St=n(299),_t=n(360),At=n(250);const Nt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"caret-up":"caret-down"};var It=Object(s.withTheme)(Object(d.b)((function(e,t){return{comments:b(e,t.context),reviewCommentReply:Object(g.a)(e)}}),(function(e){return{moduleActions:Object(v.b)(h,e)}}))(e=>{var t,n;const i=e.layout,l=e.commentText,s=e.replyText,d=e.isValidComment,m=e.onChange,p=e.getRefs,f=e.onSubmit,b=e.getFormActions,h=e.onDelete,v=e.onAcknowledgeDeleted,g=e.onAcknowledgeResolved,x=e.context,O=e.comments,y=void 0===O?[]:O,j=e.name,w=e.avatarUrl,T=e.reviewCommentReply,C=e.moduleActions,D=Object(a.useState)(""),M=Object(R.a)(D,2),k=M[0],_=M[1],A=Object(a.useState)(!1),N=Object(R.a)(A,2),I=N[0],L=N[1],B=Object(a.useState)(!0),V=Object(R.a)(B,2),z=V[0],H=V[1],P=Object(a.useState)({}),U=Object(R.a)(P,2),K=U[0],Y=U[1],W=Object(a.useState)({}),F=Object(R.a)(W,2),q=F[0],G=F[1],J=Object(a.useState)([]),Q=Object(R.a)(J,2),X=Q[0],Z=Q[1],$=null!==(t=null===(n=_t.CommentContextUtil.getContextTitle(x))||void 0===n?void 0:n.toLowerCase())&&void 0!==t?t:Object(c.a)("contentArea"),ee=Object(c.a)("reviewSpotContextDescription",{contextType:$});Object(a.useEffect)(()=>{T&&te()},[]);const te=()=>{const e=(null!==T&&void 0!==T?T:{}).commentId;if(!e)return;const t=(e=>{var t;return(null===(t=y.find(t=>t.replies.find(t=>t.id===e)))||void 0===t?void 0:t.id)||""})(e);e&&t&&(re(t),setTimeout(()=>{Object(At.b)(e)},1e3),null===C||void 0===C||C.reviewCommentReply(null))},ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.target,i=e.shiftKey,a=e.ctrlKey,r=e.metaKey,o=e.altKey,c=e.nativeEvent.code;if(c===S.s.ENTER){if(i&&!a&&!r||o)return;var l;if(e.preventDefault(),t)null===(l=document.getElementById(t))||void 0===l||l.click();else n.parentNode.nextElementSibling.firstChild.click()}},ie=e=>{var t,n;return(null===(t=e.createdBy)||void 0===t?void 0:t.isReviewer)||(null===(n=e.createdBy)||void 0===n?void 0:n.isAnonymous)?"eye-reviewer":"co-authors"},ae=e=>{_(e)},re=e=>{X[e]=!X[e],Z(Object(E.a)({},X))},oe=e=>t=>{t.nativeEvent.stopImmediatePropagation(),ae(e)},ce=e=>e.createdBy.isReviewer||e.createdBy.isAnonymous,le=()=>i===u.i.ADD_COMMENT_WITH_HISTORY,se=e=>{e.nativeEvent.stopImmediatePropagation(),H(!0)},de=async e=>{if(!I)try{if("comment-text-area"===e.target.id&&!l)return void e.preventDefault();L(!0),await f(e),L(!1),[u.i.ADD_COMMENT_WITH_HISTORY,u.i.ADD_COMMENT].includes(i)&&H(!1)}catch(t){L(!1)}},ue=(e,t)=>e.isResolved?r.a.createElement(st,null,r.a.createElement(dt,null,r.a.createElement(Pe,{name:"check-mark",size:16}),r.a.createElement("span",null,!!t?Object(c.a)("[reply resolved by author]"):Object(c.a)("[comment resolved by author]"))),r.a.createElement(ut,{onClick:()=>g(e.id)},r.a.createElement(o.k,{name:"close",size:6}))):r.a.createElement(st,null,r.a.createElement(dt,null,r.a.createElement("span",null,(e=>e?Object(c.a)("[reply deleted by author]"):Object(c.a)("[comment deleted by author]"))(!!t))),r.a.createElement(ut,{onClick:()=>v(e.id,null===t||void 0===t?void 0:t.id)},r.a.createElement(o.k,{name:"close",size:6}))),me=e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{"data-test":"review-reply-container"},r.a.createElement(Je,{avatarUrl:w},Object(Rt.c)(j)),r.a.createElement(Qe,{tabIndex:1,ref:p,ariaLabel:Object(c.a)("[comment area]"),validComment:d,onChange:m,onKeyDown:e=>ne(e,"reply-text-area"),name:"replyText",value:s})),r.a.createElement(kt,null,r.a.createElement(ft,null,r.a.createElement(ht,null,r.a.createElement("div",null,r.a.createElement(ze,{size:8,name:"arrow-send"})),r.a.createElement(Dt,{id:"reply-text-area",onClick:t=>((e,t)=>{s&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),_(""),f(e,t))})(t,e.id)},Object(c.a)("[post reply]")),r.a.createElement("div",{"data-test":"review-reply-cancel-button",onClick:()=>ae("")},Object(c.a)("[cancel]")))))),pe=e=>{return k===e.id?me(e):(t=e.id,r.a.createElement(Xe,{"data-test":"review-reply-container",onClick:oe(t),spacing:21},r.a.createElement(Je,{avatarUrl:w},Object(Rt.c)(j)),r.a.createElement(Ze,{"data-test":"review-add-new-reply-button"},r.a.createElement(He,{size:8,name:"arrow-send"}),Object(c.a)("[reply]"))));var t},fe=(e,t)=>{e.nativeEvent.stopImmediatePropagation(),Y(Object(E.a)({},K,{[t]:!K[t]}))},be=(e,t)=>{e.nativeEvent.stopImmediatePropagation(),G(Object(E.a)({},q,{[t]:!q[t]}))},he=e=>K[e.id]?r.a.createElement(vt,{"data-test":"review-delete-confirmation-popover"},r.a.createElement(xt,null,Object(c.a)("[delete comment confirmation]")),r.a.createElement(Ot,null,r.a.createElement("div",{onClick:()=>h(e.id)},Object(c.a)("[delete]")),r.a.createElement("div",{onClick:t=>fe(t,e.id)},Object(c.a)("[cancel]")))):r.a.createElement(tt,{key:e.id,isActiveComment:X[e.id],commentId:e.id},r.a.createElement(nt,null,r.a.createElement(it,null,r.a.createElement(at,null,r.a.createElement(Ge,null,r.a.createElement(Je,{avatarUrl:e.createdBy.avatarUrl,e:!0},Object(Rt.c)(e.createdBy.fullName||"".concat(e.createdBy.firstName," ").concat(e.createdBy.lastName)))),r.a.createElement(Ke,null,r.a.createElement(Ye,null,r.a.createElement(We,{name:ie(e),size:8}))),r.a.createElement(ot,null,r.a.createElement(lt,null,e.createdBy&&e.createdBy.fullName||"".concat(e.createdBy.firstName," ").concat(e.createdBy.lastName)),r.a.createElement(ct,{"data-test":"review-comment-circle"}),r.a.createElement(mt,null,Object(St.a)(new Date(e.createdOn))))),!!e.replies.length&&r.a.createElement(ut,{onClick:()=>re(e.id)},r.a.createElement(Ve,{name:Nt(X[e.id]),size:4})))),r.a.createElement(et,{visible:X[e.id]&&!!e.replies.length||k===e.id}),r.a.createElement(rt,null,r.a.createElement(pt,{dangerouslySetInnerHTML:{__html:e.text}}),le()&&r.a.createElement(bt,null,r.a.createElement(ht,null,r.a.createElement("div",null,r.a.createElement(ze,{size:8,name:"arrow-send"})),r.a.createElement(Dt,{onClick:()=>ae(e.id)},Object(c.a)("[add reply]")),r.a.createElement(ct,{"data-test":"review-add-reply-button-circle"}),r.a.createElement("div",{"data-test":"review-comment-reply-count"},(e=>{const t=e.replies.filter(e=>!e.isDeleted&&!e.isResolved).length;if(!t)return Object(c.a)("[no replies yet]").toLowerCase();const n="[".concat(1===t?"one reply":"X replies","]");return Object(c.a)(n,{x:t})})(e))),le()&&ce(e)&&r.a.createElement("div",{onClick:t=>fe(t,e.id),title:Object(c.a)("[delete comment]")},r.a.createElement(o.k,{name:"garbage",size:12}))))),ve=e=>{e.nativeEvent.stopImmediatePropagation(),H(!1)};return r.a.createElement(Ne,{id:"comment-form"},[u.i.ADD_COMMENT_WITH_HISTORY,u.i.ADD_COMMENT].includes(i)?r.a.createElement(Ie,{"data-test":"comment-form-title"},ee):null,[u.i.ADD_COMMENT_WITH_HISTORY,u.i.ADD_COMMENT].includes(i)&&(z?r.a.createElement(Fe,{"data-test":"review-new-comment-container"},r.a.createElement(Je,{avatarUrl:w},Object(Rt.c)(j)),r.a.createElement(Qe,{tabIndex:1,ref:p,ariaLabel:Object(c.a)("[comment area]"),validComment:d,onChange:m,onKeyDown:ne,name:"commentText",value:l})):r.a.createElement(Xe,{"data-test":"review-new-comment-container",onClick:se},r.a.createElement(Je,{avatarUrl:w},Object(Rt.c)(j)),r.a.createElement(Ze,{"data-test":"review-add-new-comment-button"},"+ ",Object(c.a)("[add new comment]")))),[u.i.ADD_COMMENT,u.i.ADD_COMMENT_WITH_HISTORY].includes(i)?z&&b(de,ve):b(de),[u.i.ADD_COMMENT_WITH_HISTORY,u.i.ADD_COMMENT].includes(i)&&!!(null===y||void 0===y?void 0:y.length)&&r.a.createElement(Ue,null,null===y||void 0===y?void 0:y.map((e,t)=>e.isResolved||e.isDeleted?ue(e,null):r.a.createElement(a.Fragment,{key:"comment-list-".concat(e.id)},r.a.createElement($e,{key:e.id,isActiveComment:X[e.id]},he(e)),k===e.id&&!X[e.id]&&me(e),X[e.id]&&e.replies&&e.replies.map((t,n)=>t.isDeleted?ue(e,t):((e,t,n)=>q[t.id]?r.a.createElement(gt,{"data-test":"review-reply-deleted-overlay"},r.a.createElement(Et,null,Object(c.a)("[reply was deleted]"),r.a.createElement(yt,null,r.a.createElement("div",{"data-test":"review-reply-deleted-overlay-undo-button",onClick:e=>be(e,t.id)},Object(c.a)("[undo]")))),r.a.createElement(wt,{onClick:()=>h(e.id,t.id)},r.a.createElement(jt,{"data-test":"review-reply-deleted-overlay-delete-forever-msg"},Object(c.a)("[delete forever]")),r.a.createElement(Tt,null,r.a.createElement(o.k,{name:"close"})))):r.a.createElement($e,{key:t.id},r.a.createElement(tt,{commentId:t.id},r.a.createElement(nt,null,r.a.createElement(it,null,r.a.createElement(at,null,r.a.createElement(Je,{avatarUrl:t.createdBy.avatarUrl},Object(Rt.c)("".concat(t.createdBy.firstName," ").concat(t.createdBy.lastName))),r.a.createElement(Ke,null,r.a.createElement(Ye,null,r.a.createElement(We,{name:ie(t),size:8}))),r.a.createElement(ot,null,r.a.createElement(lt,null,t.createdBy&&t.createdBy.fullName||"".concat(t.createdBy.firstName," ").concat(t.createdBy.lastName)),r.a.createElement(ct,{"data-test":"review-comment-circle"}),r.a.createElement(mt,null,Object(St.a)(new Date(t.createdOn))))),le()&&ce(t)&&r.a.createElement("div",{onClick:e=>be(e,t.id),title:Object(c.a)("[delete reply]")},r.a.createElement(o.k,{name:"garbage",size:12})))),r.a.createElement(et,{visible:e.replies.length>n+1}),r.a.createElement(rt,null,r.a.createElement(pt,{dangerouslySetInnerHTML:{__html:t.text}})))))(e,t,n)),X[e.id]&&pe(e)))))})),Lt=n(52),Bt=n(163),Vt=n(32),zt=n(162);function Ht(){const e=Object(_.a)(["\n  color: #fff;\n  ",";\n  margin-right: 6px;\n"]);return Ht=function(){return e},e}function Pt(){const e=Object(_.a)(["\n  width: 100%;\n  height: 5px;\n  background: #4caf50;\n  animation-name: grow;\n  animation-duration: 5s;\n  animation-timing-function: linear;\n\n  @keyframes grow {\n    from {\n      width: 100%;\n    }\n    to {\n      width: 0%;\n    }\n  }\n"]);return Pt=function(){return e},e}function Ut(){const e=Object(_.a)(["\n  background: rgba(248, 93, 103, 0.1);\n  border: solid 1px rgba(248, 93, 103, 0.3);\n"]);return Ut=function(){return e},e}function Kt(){const e=Object(_.a)(["\n  ",";\n  line-height: 17px;\n  padding: 7px 13px 7px 27px;\n  position: relative;\n  width: 100%;\n  text-align: left;\n"]);return Kt=function(){return e},e}function Yt(){const e=Object(_.a)(["\n  width: 100%;\n  margin-top: 16px;\n  background: #f6fbf7;\n  border-radius: 3px;\n  border: solid 1px #d3ecd4;\n  ",";\n"]);return Yt=function(){return e},e}function Wt(){const e=Object(_.a)(["\n  ",";\n  left: 12px;\n  color: #f85d67;\n  position: absolute;\n  font-size: 16px;\n  font-weight: bold;\n"]);return Wt=function(){return e},e}function Ft(){const e=Object(_.a)(["\n  ",";\n  left: 8px;\n  color: #4caf50;\n  line-height: 7px;\n  position: absolute;\n"]);return Ft=function(){return e},e}function qt(){const e=Object(_.a)(["\n  ",";\n  font-size: 11px;\n  font-weight: 600;\n  color: #99a9b8;\n  cursor: pointer;\n  margin-left: 24px;\n  padding: 0;\n\n  &:hover,\n  &:focus {\n    color: #81c884;\n  }\n"]);return qt=function(){return e},e}function Gt(){const e=Object(_.a)(["\n  ",";\n  position: relative;\n  background: #4caf50;\n  border-radius: 16px;\n  color: #fff;\n  font-size: 11px;\n  line-height: 11px;\n  font-weight: 600;\n  cursor: pointer;\n  box-shadow: 0 2px 8px 0 ",";\n  ",";\n  width: 140px;\n  height: 32px;\n\n  &:hover,\n  &:focus {\n    background: #46a14a;\n  }\n\n  &:disabled:before {\n    background-color: rgba(255, 255, 255, 0.3);\n    content: '';\n    cursor: not-allowed;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n"]);return Gt=function(){return e},e}function Jt(){const e=Object(_.a)(["\n  align-self: flex-end;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  margin-top: ",";\n"]);return Jt=function(){return e},e}function Qt(){const e=Object(_.a)(["\n  background: ",";\n  padding: "," 24px 40px 24px;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  width: 100%;\n\n  max-height: 666px;\n  overflow: auto;\n\n  ","\n\n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n"]);return Qt=function(){return e},e}function Xt(){const e=Object(_.a)(["\n  font-size: 11px;\n  line-height: 150%;\n  display: inline;\n\n  span {\n    color: #848fa3;\n  }\n"]);return Xt=function(){return e},e}function Zt(){const e=Object(_.a)(["\n  margin-left: 8px;\n  text-align: left;\n"]);return Zt=function(){return e},e}function $t(){const e=Object(_.a)(["\n  min-height: 48px;\n  display: flex;\n  align-items: left;\n  padding: 7px 46px 7px 16px;\n  background-color: ",";\n  border: 1px solid #469dd5;\n  border-radius: 3px;\n"]);return $t=function(){return e},e}function en(){const e=Object(_.a)(["\n  margin: 0 -24px;\n  background: white;\n"]);return en=function(){return e},e}function tn(){const e=Object(_.a)(["\n  margin: 40px 24px 24px 24px;\n  background: white;\n  max-width: 444px;\n"]);return tn=function(){return e},e}function nn(){const e=Object(_.a)(["\n  ",";\n  width: ","px;\n  max-height: 666px;\n  margin: -5px -7px -7px;\n"]);return nn=function(){return e},e}function an(){const e=Object(_.a)(["\n  width: 100%;\n"]);return an=function(){return e},e}s.default.div(an());const rn=s.default.form(nn(),A.b,e=>e.width||444),on=s.default.div(tn()),cn=(s.default.div(en()),s.default.div.attrs(()=>({"data-test":"use-login-link-message"}))($t(),Object(I.a)("#469dd5",.1))),ln=s.default.div(Zt()),sn=s.default.div(Xt()),dn=s.default.div(Qt(),e=>e.theme.colors.contentBodyColor,e=>e.verifyPopupShown?"0":"40px",Object(zt.a)()),un=s.default.div(Jt(),e=>"".concat(e.marTop||24,"px")),mn=s.default.button.attrs(()=>({"data-test":"review-form-submit-button"}))(Gt(),Lt.a,Object(I.a)("#000000",.2),Object(N.g)(.3)),pn=s.default.button(qt(),Lt.a),fn=Object(s.default)(Vt.a)(Ft(),Bt.b),bn=s.default.div(Wt(),Bt.b),hn=s.default.div(Yt(),Object(N.c)("fromRight")),vn=s.default.div.attrs(()=>({"data-test":"review-success-message"}))(Kt(),A.b),gn=Object(s.default)(vn)(Ut()),xn=s.default.div(Pt()),En=Object(s.default)(Vt.a)(Ht(),e=>{var t;return!(null===(t=e.theme)||void 0===t?void 0:t.isRtl)&&"top: 1px"});var On=n(14),yn=n(20);class jn extends a.Component{constructor(e){super(e),this.loginRefs=void 0,this.updateLayout=e=>{this.props.moduleActions.updateReviewLayout(e)},this.beforeSubmitValidation=()=>{const e=!!this.loginRefs.name&&this.loginRefs.name.validity.valid,t=!!this.loginRefs.email&&this.loginRefs.email.validity.valid;this.setState({validationStatusBeforeSubmit:{isNameValid:e,isEmailValid:t}})},this.checkInputValidation=e=>!!e&&(this.setState({validationStatusBeforeSubmit:Object(E.a)({},this.state.validationStatusBeforeSubmit,{[e.target.name]:e.target.validity.valid||!1})}),e.target.validity.valid||!1),this.onChange=e=>{this.setState({[e.target.name]:e.target.value}),["name","email"].includes(e.target.name)&&this.props.userActions.updateUser({[e.target.name]:e.target.value})},this.getRefs=e=>{e&&(this.loginRefs[e.name]=e)},this.validateComment=()=>{const e=this.props,t=e.email,n=e.name,i=this.state,a=i.commentText,r=i.showLoginForm,o=i.validationStatusBeforeSubmit,c=i.requestSending,l=o.isEmailValid&&o.isNameValid;return a.trim()?t&&n?!(r&&!l||c):(this.setState({showLoginForm:!0}),!1):(this.setState({isValidComment:!1}),setTimeout(()=>{this.setState({isValidComment:!0},()=>{this.loginRefs.commentText.focus()})},500),!1)},this.addCommentWithoutAuth=()=>{this.updateLayout(u.i.ADD_COMMENT)},this.submitCommentOrReply=async(e,t)=>{let n;const i=this.props,a=i.context,r=i.name,o=this.state,c=o.commentText,l=o.replyText,s={text:c,createdByName:r};if(s.context=a,this.setState({showSuccessMessage:!1,showErrorMessage:!1}),"reply-text-area"===e.target.id)s.text=l,n=await k.a.emit(k.b.COMMENT_REPLY_SENT,{commentId:t,data:s});else{if(!c)return;this.setState({requestSending:!0}),n=await k.a.emit(k.b.COMMENT_SENT,{data:s})}n[0]===u.x&&(this.setState({showSuccessMessage:!0,showErrorMessage:!1,showLoginForm:!1,isValidComment:!0,commentText:"",replyText:"",requestSending:!1}),setTimeout(()=>this.setState({showSuccessMessage:!1}),5e3)),n[0]===u.d&&this.setState({showErrorMessage:!0,showSuccessMessage:!1,requestSending:!1})},this.getActionHandler=e=>({[u.i.LOGIN_WITH_EMAIL]:()=>{},[u.i.REGISTER_NEW_REVIEWER]:()=>{},[u.i.VERIFICATION_EMAIL_SENT]:this.addCommentWithoutAuth,[u.i.ADD_COMMENT]:this.submitCommentOrReply,[u.i.ADD_COMMENT_WITH_HISTORY]:this.submitCommentOrReply}[e]),this.actionButtonHandler=async(e,t)=>{e.preventDefault();const n=this.props.layout,i=this.getActionHandler(n);if([u.i.ADD_COMMENT,u.i.ADD_COMMENT_WITH_HISTORY,u.i.REGISTER_NEW_REVIEWER,u.i.VERIFICATION_EMAIL_SENT].includes(n)){let t=u.s[n];n===u.i.ADD_COMMENT_WITH_HISTORY&&"reply-text-area"===e.target.id&&(t=u.s.ADD_REPLY),this.props.amplitudeActions.trackEvent(t,u.p)}return i(e,t)},this.deleteComment=async(e,t)=>{t?await k.a.emit(k.b.REPLY_DELETED,{commentId:e,replyId:t}):await k.a.emit(k.b.COMMENT_DELETED,{commentId:e})},this.ackDeleted=async(e,t)=>{t?await k.a.emit(k.b.ACK_REPLY_DELETED,{commentId:e,replyId:t}):await k.a.emit(k.b.ACK_COMMENT_DELETED,{commentId:e})},this.ackResolved=async(e,t)=>{await k.a.emit(k.b.ACK_COMMENT_RESOLVED,{commentId:e})},this.skipToCommentsView=e=>{this.props.isAuthenticatedReviewer&&!(null===e||void 0===e?void 0:e.isAuthenticatedReviewer)&&this.updateLayout(u.i.ADD_COMMENT_WITH_HISTORY)},this.handleKeyDown=e=>t=>{var n,i;((null===(n=t.key)||void 0===n?void 0:n.toLowerCase())===S.s.SPACEBAR.toLowerCase()||(null===(i=t.key)||void 0===i?void 0:i.toLowerCase())===S.s.ENTER.toLowerCase())&&e&&e(t)},this.formActions=(e,t)=>{const n=this.props.layout,i=this.state.requestSending;return a.createElement(un,{role:"presentation",verifyPopupShown:n===u.i.ADD_COMMENT,marTop:24},a.createElement(mn,{tabIndex:1,disabled:!!i&&"disabled",onClick:e,onKeyDown:this.handleKeyDown(e),id:n===u.i.ADD_COMMENT?"comment-text-area":""},n===u.i.ADD_COMMENT&&a.createElement(En,{size:9,name:"arrow-send"}),Object(c.a)(u.y[n])),a.createElement(pn,{"data-test":"review-form-cancel-button",tabIndex:1,onClick:t,onKeyDown:this.handleKeyDown(t)},Object(c.a)("[cancel]")))},this.renderSuccessOrErrorMessage=()=>{const e=this.state,t=e.showErrorMessage,n=e.showSuccessMessage;return a.createElement(a.Fragment,null,n&&a.createElement(hn,null,a.createElement(vn,null,a.createElement(fn,{theme:this.props.theme,size:9,name:"check-mark-2"}),Object(c.a)("[author notified of comment]")),a.createElement(xn,null)),t&&a.createElement(hn,null,a.createElement(gn,null,a.createElement(bn,null,"!"),Object(c.a)("[error comment sending]")),a.createElement(xn,null)))},this.state={requestSending:!1,commentText:"",replyText:"",isValidComment:!0,showSuccessMessage:!1,showErrorMessage:!1,showLoginForm:!1,showResendEmailPopup:!1,linkResent:!1,isEmailRegistered:!1,loginLinkSent:!1,previousEmail:"",previousName:"",validationStatusBeforeSubmit:{isNameValid:!0,isEmailValid:!0},touchedStatus:{name:!1,email:!1}},this.loginRefs={name:"",email:""}}async componentDidMount(){this.skipToCommentsView()}componentDidUpdate(e,t){const n=this.props,i=n.email,a=void 0===i?"":i,r=n.name,o=void 0===r?"":r,c=n.isReviewerLoginLinkSent,l=document.activeElement;c&&!e.isReviewerLoginLinkSent&&this.updateLayout(u.i.ADD_COMMENT),l&&"commentText"!==l.getAttribute("name")&&"replyText"!==l.getAttribute("name")&&this.loginRefs.commentText&&setTimeout(()=>{this.state.isValidComment&&this.loginRefs.commentText.focus()},0),e.name&&!o&&e.email&&!a&&this.setState({requestSending:!1,commentText:"",replyText:"",isValidComment:!0,showSuccessMessage:!1,showErrorMessage:!1,showLoginForm:!1,showResendEmailPopup:!1,linkResent:!1,isEmailRegistered:!1,loginLinkSent:!1,previousEmail:"",previousName:"",validationStatusBeforeSubmit:{isNameValid:!0,isEmailValid:!0},touchedStatus:{name:!1,email:!1}}),this.skipToCommentsView(e)}render(){const e=this.props,t=e.closePopover,n=e.context,i=e.name,r=void 0===i?"":i,o=e.email,l=void 0===o?"":o,s=e.avatarUrl,d=e.layout,m=this.state,p=m.replyText,f=m.commentText,b=m.isValidComment;return a.createElement(rn,{"data-test":"review-form",width:444},d===u.i.ADD_COMMENT?a.createElement(on,null,(e=>d===u.i.ADD_COMMENT&&a.createElement(cn,null,a.createElement(Be,{size:8,name:"mail"}),a.createElement(ln,null,a.createElement(sn,{dangerouslySetInnerHTML:{__html:Object(c.a)("[use the login link from email]",{email:"<span>".concat(e,"</span>")})}}))))(l)):null,a.createElement(dn,{verifyPopupShown:d===u.i.ADD_COMMENT},a.createElement(It,{name:r,email:l,avatarUrl:s,getRefs:this.getRefs,commentText:f,replyText:p,isValidComment:b,onChange:this.onChange,onSubmit:this.actionButtonHandler,onDelete:this.deleteComment,onAcknowledgeDeleted:this.ackDeleted,onAcknowledgeResolved:this.ackResolved,closePopover:t,context:n,layout:d,getFormActions:this.formActions}),this.renderSuccessOrErrorMessage()))}}var wn=Object(d.b)((function(e){return{layout:Object(g.b)(e),name:Object(yn.g)(e),email:Object(yn.e)(e),avatarUrl:Object(yn.d)(e),isAuthenticatedReviewer:Object(yn.l)(e),courseId:Object(On.i)(e),isExpanded:Object(g.j)(e),isReviewerLoginLinkSent:Object(g.i)(e)}}),(function(e){return{userActions:Object(v.b)(D,e),moduleActions:Object(v.b)(h,e),commentActions:Object(v.b)(M,e),amplitudeActions:Object(v.b)(i,e)}}))(jn);class Tn extends a.Component{constructor(e){super(e),this.toggle=e=>{e&&e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded},()=>{this.props.moduleActions.isTooltipExpanded(this.state.isExpanded)})},this.closePopup=()=>{this.setState({isExpanded:!1},()=>{this.props.moduleActions.isTooltipExpanded(this.state.isExpanded)})},this.state={isExpanded:!1}}componentDidMount(){var e,t;const n=this.props,i=n.reviewCommentReply,a=n.context,r=null!==(e=a.id||(null===(t=a.ref)||void 0===t?void 0:t.id))&&void 0!==e?e:"";(null===i||void 0===i?void 0:i.commentId)&&!this.isResponse(i)&&Object(At.c)(a,i)&&setTimeout(()=>{Object(At.b)(r),this.toggle()},1e3)}isResponse(e){return e.identifier.includes("res")}render(){var e;const t=this.state.isExpanded,n=this.props,i=n.theme,r=n.context,d=n.hintName,u=n.isVoiceOver,m=n.numberOfComments,p=r.id||(null===(e=r.ref)||void 0===e?void 0:e.id);return a.createElement(x.b,{isVoiceOver:u,isActive:t,id:p},a.createElement(l.a,{position:"auto",hintElements:Object(c.a)("[click to leave a comment]"),hintName:d,isExpanded:!!d,isRtl:null===i||void 0===i?void 0:i.isRtl},a.createElement(o.y,{shouldShowTooltip:!0,trigger:"manual",open:t,onRequestClose:()=>this.closePopup(),arrow:!0,position:"right",interactive:!0,tooltipTheme:"light",html:a.createElement(s.ThemeProvider,{theme:i},a.createElement(wn,{role:"dialog",ariaModal:!0,tabIndex:-1,context:r,closePopover:this.toggle}))},a.createElement(x.c,{role:"button",tabIndex:1,onClick:this.toggle,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||this.toggle(e)},isActive:t||!!m},m||a.createElement(x.a,{size:10,name:"comment"})))))}}Tn.defaultProps={isVoiceOver:!1};var Cn=Object(s.withTheme)(Object(d.b)((function(e,t){return{numberOfComments:b(e,t.context).filter(e=>!(null===e||void 0===e?void 0:e.isDeleted)&&!(null===e||void 0===e?void 0:e.isResolved)).length,reviewCommentReply:Object(g.a)(e)}}),(function(e){return{moduleActions:Object(v.b)(h,e)}}))(Tn));n.d(t,"default",(function(){return Cn}))}}]);