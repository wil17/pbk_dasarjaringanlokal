(this["webpackJsonpall-in-one"]=this["webpackJsonpall-in-one"]||[]).push([[11],{840:function(e,t,o){"use strict";o.r(t);var n=o(6),i=o(77),r=o(45);const a={initialized:!1,apiWrapper:function(){const e={code:"0",string:"No Error",diagnostic:"No Error"},t={code:"101",string:"General Exception",diagnostic:"General Exception"};let o=!1,n=null;return{doLMSInitialize:i,doLMSFinish:function(){if(!o)return"true";let e;const t=a();if(null==t)return l("Unable to locate the LMS's API Implementation.\nLMSFinish was not successful."),"false";if(e=t.LMSFinish(""),"true"!==e.toString()){const e=r();l("LMSFinish failed with error code: ".concat(e.code))}return o=!1,e.toString()},doLMSGetValue:function(t){const n=a();let c="";if(null==n)l("Unable to locate the LMS's API Implementation.\nLMSGetValue was not successful.");else if(o||i()){c=n.LMSGetValue(t);const o=r();o.code!==e.code&&(l("LMSGetValue(".concat(t,") failed. \n        ").concat(o.code,": ").concat(o.string)),c="")}else{const e=r();l("LMSGetValue failed - Could not initialize communication with the LMS - error code: ".concat(e.code))}return c.toString()},doLMSSetValue:function(e,t){const n=a();let c,s="false";null==n?l("Unable to locate the LMS's API Implementation.\nLMSSetValue was not successful."):o||i()?(s=n.LMSSetValue(e,t),"true"!==s.toString()&&(c=r(),l("LMSSetValue(".concat(e,", ").concat(t,") failed. \n          ").concat(c.code,": ").concat(c.string)))):(c=r(),l("LMSSetValue failed - Could not initialize communication with the LMS - error code: "+c.code));return s.toString()},doLMSCommit:function(){const e=a();let t,n="false";null==e?l("Unable to locate the LMS's API Implementation.\nLMSCommit was not successful."):o||i()?(n=e.LMSCommit(""),"true"!==n&&(t=r(),l("LMSCommit failed - error code: ".concat(t.code)))):(t=r(),l("LMSCommit failed - Could not initialize communication with the LMS - error code: ".concat(t.code)));return n.toString()}};function i(){if(o)return"true";const e=a();if(null==e)return l("Unable to locate the LMS's API Implementation.\nLMSInitialize was not successful."),"false";const t=e.LMSInitialize("");if("true"!==t.toString()){const e=r();l("LMSInitialize failed with error code: ".concat(e.code))}else o=!0;return t.toString()}function r(){const o={code:e.code,string:e.string,diagnostic:e.diagnostic},n=a();return null==n?(l("Unable to locate the LMS's API Implementation.\nCannot determine LMS error code."),o.code=t.code,o.string=t.string,o.diagnostic="Unable to locate the LMS's API Implementation. Cannot determine LMS error code.",o):(o.code=n.LMSGetLastError().toString(),o.code!==e.code&&(o.string=n.LMSGetErrorString(o.code),o.diagnostic=n.LMSGetDiagnostic("")),o)}function a(){return null==n&&(n=function(){let e=c(window);null==e&&null!=window.opener&&"undefined"!=typeof window.opener&&(e=c(window.opener));return e}()),n}function c(e){let t=0;for(;null==e.API&&null!=e.parent&&e.parent!==e;){if(t++,t>7)return l("Error finding API -- too deeply nested."),null;e=e.parent}return e.API}}(),startTime:null},c=[console.log.bind(console)];var s={initialize(){var e;a.initialized="true"===a.apiWrapper.doLMSInitialize(),e="incomplete",a.apiWrapper.doLMSSetValue("cmi.core.lesson_status",e),a.initialized&&(a.startTime=new Date,window.addEventListener&&(window.addEventListener("pagehide",d),window.addEventListener("beforeunload",u)))},progressProvider:{getProgress:function(){let e={};try{e=JSON.parse(Object(r.b)(a.apiWrapper.doLMSGetValue("cmi.suspend_data")))}catch(t){l("Unable to restore progress")}return e},saveProgress:function(e){const t="true"===a.apiWrapper.doLMSSetValue("cmi.suspend_data",JSON.stringify(e)),o="true"===a.apiWrapper.doLMSSetValue("cmi.core.lesson_status","incomplete"),n=t&&o;n&&(a.apiWrapper.doLMSSetValue("cmi.core.exit","suspend"),a.apiWrapper.doLMSCommit());return n},removeProgress:function(e){const t=e?"passed":"failed";a.apiWrapper.doLMSSetValue("cmi.core.lesson_status",t);const o="true"===a.apiWrapper.doLMSSetValue("cmi.suspend_data","");o&&(a.apiWrapper.doLMSSetValue("cmi.core.exit",""),a.apiWrapper.doLMSCommit());return o}},userInfoProvider:{getUsername:()=>a.apiWrapper.doLMSGetValue("cmi.core.student_name"),getAccountId:()=>a.apiWrapper.doLMSGetValue("cmi.core.student_id"),getAccountHomePage:()=>window.location.origin||"".concat(window.location.protocol,"//").concat(window.location.host)},courseFinished:function(e){a.apiWrapper.doLMSSetValue("cmi.core.lesson_status",Object(i.e)(e.status)?"passed":"failed"),p(e.score),a.apiWrapper.doLMSCommit(),window.removeEventListener&&(window.removeEventListener("pagehide",d),window.removeEventListener("beforeunload",u))},courseFinalized:function(e){window.removeEventListener&&(window.removeEventListener("pagehide",d),window.removeEventListener("beforeunload",u));e.isCourseFinished||p(e.score);d()},courseProgressed:function(){},addErrorHandler:function(e){c.push(e)}};function l(e){for(const t of c)t(e)}function d(){const e=(new Date).getTime()-a.startTime.getTime();a.apiWrapper.doLMSSetValue("cmi.core.session_time",new Date(0,0,0,0,0,0,e).toString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")),a.apiWrapper.doLMSCommit(),a.apiWrapper.doLMSFinish()}function u(e){return e.preventDefault(),e.returnValue="",""}function p(e){a.apiWrapper.doLMSSetValue("cmi.core.score.min","0"),a.apiWrapper.doLMSSetValue("cmi.core.score.max","100"),a.apiWrapper.doLMSSetValue("cmi.core.score.raw",e)}const S={initialized:!1,apiWrapper:function(){const e=window.console,t={code:"0",string:"No Error",diagnostic:"No Error"},o={code:"101",string:"General Exception",diagnostic:"General Exception"};let n=!1,i=null;return{doLMSInitialize:r,doLMSFinish:function(){if(!n)return"true";const e=l(),t=e.Terminate("");if(null==e)return u("Unable to locate the LMS's API Implementation.\nTerminate was not successful."),"false";if("true"!==t.toString()){const e=s();u("Terminate failed with error code: ".concat(e.code))}return n=!1,t.toString()},doLMSGetValue:a,doLMSSetValue:c,doLMSCommit:function(){const e=l();let t="false";if(null==e)u("Unable to locate the LMS's API Implementation.\nCommit was not successful.");else if(n||r()){if(t=e.Commit(""),"true"!==t){const e=s();u("Commit failed - error code: ".concat(e.code))}}else{const e=s();u("Commit failed - Could not initialize communication with the LMS - error code: ".concat(e.code))}return t.toString()}};function r(){if(n)return"true";const e=l();if(null==e)return u("Unable to locate the LMS's API Implementation.\nInitialize was not successful."),"false";const t=e.Initialize("");if("true"!==t.toString()){const e=s();u("Initialize failed with error code: ".concat(e.code))}else n=!0;return t.toString()}function a(e){const o=l();let i="";if(null==o)u("Unable to locate the LMS's API Implementation.\nGetValue was not successful.");else if(n||r()){i=o.GetValue(e);const n=s();n.code!==t.code&&(u("GetValue(".concat(e,") failed.\n         ").concat(n.code,": ").concat(n.string)),i="")}else{const e=s();u("GetValue failed - Could not initialize communication with the LMS - error code: ".concat(e.code))}return i.toString()}function c(e,t){const o=l();let i="false";if(null==o)u("Unable to locate the LMS's API Implementation.\nSetValue was not successful.");else if(n||r()){if(i=o.SetValue(e,t),"true"!==i.toString()){const o=s();u("SetValue(".concat(e,", ").concat(t,") failed. \n        ").concat(o.code,": ").concat(o.string))}}else{const e=s();u("SetValue failed - Could not initialize communication with the LMS - error code: ".concat(e.code))}return i.toString()}function s(){let e={code:t.code,string:t.string,diagnostic:t.diagnostic};const n=l();return null==n?(u("Unable to locate the LMS's API Implementation.\nCannot determine LMS error code."),e.code=o.code,e.string=o.string,e.diagnostic="Unable to locate the LMS's API Implementation. Cannot determine LMS error code.",e):(e.code=n.GetLastError().toString(),e.code!==t.code&&(e.string=n.GetErrorString(e.code),e.diagnostic=n.GetDiagnostic("")),e)}function l(){return null==i&&(i=function(){let e=d(window);null==e&&null!=window.opener&&"undefined"!=typeof window.opener&&(e=d(window.opener));null==e&&u("Unable to find an API adapter");return e}()),i}function d(e){let t=0;for(;null==e.API_1484_11&&null!=e.parent&&e.parent!==e;){if(t++,t>500)return u("Error finding API -- too deeply nested."),null;e=e.parent}return e.API_1484_11}function u(t){e.log(t)}}(),startTime:null},m=[console.log.bind(console)];var f={initialize(){S.initialized="true"===S.apiWrapper.doLMSInitialize(),S.apiWrapper.doLMSSetValue("cmi.completion_status","incomplete"),S.apiWrapper.doLMSSetValue("cmi.success_status","unknown"),S.initialized&&(S.startTime=new Date,window.addEventListener&&(window.addEventListener("pagehide",L),window.addEventListener("beforeunload",M)))},progressProvider:{getProgress:function(){let e={};try{e=JSON.parse(Object(r.b)(S.apiWrapper.doLMSGetValue("cmi.suspend_data")))}catch(t){!function(e){for(const t of m)t(e)}("Unable to restore progress")}return e},saveProgress:function(e){const t="true"===S.apiWrapper.doLMSSetValue("cmi.suspend_data",JSON.stringify(e)),o="true"===S.apiWrapper.doLMSSetValue("cmi.completion_status","incomplete"),n=t&&o;n&&(S.apiWrapper.doLMSSetValue("cmi.exit","suspend"),S.apiWrapper.doLMSCommit());return n},removeProgress:function(){const e="true"===S.apiWrapper.doLMSSetValue("cmi.suspend_data","");e&&(S.apiWrapper.doLMSSetValue("cmi.exit",""),S.apiWrapper.doLMSCommit());return e}},userInfoProvider:{getUsername:()=>S.apiWrapper.doLMSGetValue("cmi.learner_name"),getAccountId:()=>S.apiWrapper.doLMSGetValue("cmi.learner_id"),getAccountHomePage:()=>window.location.origin||"".concat(window.location.protocol,"//").concat(window.location.host)},courseFinished:function(e){S.apiWrapper.doLMSSetValue("cmi.completion_status","completed"),S.apiWrapper.doLMSSetValue("cmi.success_status",Object(i.e)(e.status)?"passed":"failed"),g(e.score),S.apiWrapper.doLMSCommit(),window.removeEventListener&&(window.removeEventListener("pagehide",L),window.removeEventListener("beforeunload",M))},courseFinalized:function(e){window.removeEventListener&&(window.removeEventListener("pagehide",L),window.removeEventListener("beforeunload",M));e.isCourseFinished||g(e.score);L()},courseProgressed:function(e){S.apiWrapper.doLMSSetValue("cmi.progress_measure",e.course.score/100),S.apiWrapper.doLMSCommit()},addErrorHandler:function(e){m.push(e)}};function L(){const e=(new Date).getTime()-S.startTime.getTime();S.apiWrapper.doLMSSetValue("cmi.session_time",function(e){const t=Math.round(e%1e3/10),o=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),r=t>0?".".concat(t):"";return"PT".concat(i,"H").concat(n,"M").concat(o).concat(r,"S")}(e)),S.apiWrapper.doLMSCommit(),S.apiWrapper.doLMSFinish()}function M(e){return e.preventDefault(),e.returnValue="",""}function g(e){S.apiWrapper.doLMSSetValue("cmi.score.min","0"),S.apiWrapper.doLMSSetValue("cmi.score.max","100"),S.apiWrapper.doLMSSetValue("cmi.score.raw",e),S.apiWrapper.doLMSSetValue("cmi.score.scaled",e/100)}var w=new class{constructor(){this.apiWrapper=void 0}on(e){this.apiWrapper=e?f:s,n.a.on(n.b.COURSE_FINISHED,this.apiWrapper.courseFinished),n.a.on(n.b.COURSE_FINALIZED,this.apiWrapper.courseFinalized),n.a.on(n.b.COURSE_PROGRESSED,this.apiWrapper.courseProgressed)}off(){n.a.off(n.b.COURSE_FINISHED,this.apiWrapper.courseFinished),n.a.off(n.b.COURSE_FINALIZED,this.apiWrapper.courseFinalized),n.a.off(n.b.COURSE_PROGRESSED,this.apiWrapper.courseProgressed)}};t.default=new class{constructor(){this.apiWrapper=void 0}get addErrorHandler(){return this.apiWrapper.addErrorHandler}get userInfoProvider(){return this.apiWrapper.userInfoProvider}get progressProvider(){return this.apiWrapper.progressProvider}async initialize(e){this.apiWrapper=e?f:s,this.apiWrapper.initialize(),w.on(e)}}}}]);